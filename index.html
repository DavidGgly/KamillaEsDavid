<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<head>
    <title>2021.08.07</title>
    <link rel="stylesheet" type="text/css" href="global.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <script src="jquery-3.6.0.min.js">
    </script>
    <script>
        $("document").ready(function() {
            $("#nrButt").click(function() {
                $("#origForm").submit(function() {
                    var guestNr = $(this).serialize();
                    for (i = 1; i <= guestNr[0].value; i++) {
                        $("#forms").append("<input id='guestname' type='text' name='guestnames[]' class='input-text' required>");
                        $("#forms").append("<label for='guestname' class='label'>Teljes név:</label>");
                    }
                });
            });
        });
    </script>

    <script type='text/javascript'>
        function addFields() {
            // Number of inputs to create
            var number = document.getElementById("guestNumber").value;

            // Container <div> where dynamic content will be placed
            var container = document.getElementById("regForms");

            // Clear previous contents of the container
            while (container.hasChildNodes()) {
                container.removeChild(container.lastChild);
            }

            container.appendChild(document.createElement("br"));
            container.appendChild(document.createElement("br"));
            for (i = 0; i < number; i++) {
                
                container.appendChild(document.createElement("br"));

                var guestname = document.createElement("input");
                guestname.setAttribute("id", "oneguestname");
                guestname.setAttribute("type", "text");
                guestname.setAttribute("name", "guestnames[]");
                //guestname.name = "guestnames[]";
                guestname.setAttribute("class", "input-text");
                guestname.required = true;
                //guestname.placeholder = "Teljes név";
                container.appendChild(guestname);

                var guestLabel = document.createElement("label");
                guestLabel.setAttribute("for", "oneguestname");
                guestLabel.setAttribute("class", "label");
                guestLabel.innerHTML = "Teljes név:";
                container.appendChild(guestLabel);

                container.appendChild(document.createElement("br"));
                container.appendChild(document.createElement("br"));

				var notes = document.createElement("textarea");
                notes.setAttribute("id", "note");
                notes.setAttribute("type", "textarea");
                notes.setAttribute("name", "notes[]");
                //notes.name = "notes[]";
                notes.setAttribute("class", "input-text");
                //notes.placeholder = "Ételallergia, stb."
                container.appendChild(notes);

                var notesLabel = document.createElement("label");
                notesLabel.setAttribute("for", "note");
                notesLabel.setAttribute("class", "label");
                notesLabel.innerHTML = "Megjegyzés:";
                container.appendChild(notesLabel);

                container.appendChild(document.createElement("br"));
                container.appendChild(document.createElement("br"));
            }

            var regButton = document.createElement("button");
            regButton.setAttribute("type", "submit");
            regButton.setAttribute("class", "submit-btn");
            regButton.innerHTML = "Ott leszünk!";

            container.appendChild(regButton);
        }
    </script>
</head>
    <body>
        
        <section class="guestRegistration">

            <h1 class="title">vendég regisztráció</h1>
            <div class="container">
                <div class="contact-form row">
                    <div id="origForm" class="form-field col-lg-6">
                        <input id="guestNumber" class="input-text" type="number" name="">
                        <label for="guestNumber" class="label">vendégek</label>
                        <input id="nrButt" class="submit-btn" value="HányVendégTeszt" type="button" onclick="addFields()" >
                    </div>
                    <form id="forms" method="POST" action="process.php">
                        <div id="regForms" class="form-field col-lg-6">
                    </form>
                </div>
            </div>

        </section>

    </body>
</html>